<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>Remates Montepio - Consola</title>
<link rel="stylesheet"
	href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<link rel="stylesheet"
	href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="./css/page.css">
<link rel="stylesheet"
	href="//cdn.datatables.net/1.10.0/css/jquery.dataTables.css	">
</head>
<body>
	<nav class="navbar navbar-default" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#navbar-main">
					<span class="sr-only"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Remates Montepio</a>
			</div>
			<div id="navbar-main" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="index.html">Inicio</a></li>
					<li><a href="dashboard.html">Estadisticas</a></li>
					<li class="active"><a href="#">Consola</a></li>
					<li><a href="reportes.html">Reportes</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">
		<div class="row">
			<h2>Ingrese su archivo</h2>
		</div>
		<div class="row">
			<form class="form-horizontal" role="form">
				<label class="control-label col-md-4" for="archivo">Archivo:</label>

				<div class="col-md-6">
					<input id="archivo" type="file" name="archivo" />
				</div>
			</form>
		</div>
		<div class="row">

			<br />
		</div>
		<div class="row ">
			<div class="panel panel-default " id="productos"
				style="display: none">
				<div class="panel-heading">Productos</div>
				<div class="panel-body">
					<table class="table table-responsive table-condensed col-md-12">
						<thead>
							<th></th>
							<th>Producto</th>
							<th>Descripción</th>
							<th>Familia</th>
							
							<th>Precio estimado</th>
							
							<th>Aprobado</th>
							
						</thead>
						<tbody>
							<tr>
								<th><input type="checkbox"/</th>
								<td>TV Samsung 50</td>
								<td>Hermosa TV Samsung de 50 pulgadas en perfecto estado...</td>
								<td>TV</td>
								
								<td>$10,000.00</td>
								<td><span data-chk="0" class="chkApr glyphicon glyphicon-ok"></span>
								</td>
							</tr>
							<tr>
								<th><input type="checkbox"/</th>
								<td>Samsung Galaxy S5</td>
								<td>Galaxy S5 telcel como nuevo incluye todos sus
									accesorios...</td>
								<td>Celulares</td>
								
								<td>$14,000.00</td>
								<td><span data-chk="0" class="chkApr glyphicon glyphicon-ok"></span>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="panel-footer nav ">
					<button type="button" id="editar"
						class="btn btn-default navbar-btn navbar-left">Editar</button>
					<button type="button" id="aprobar"
						class="btn btn-default navbar-btn navbar-left">Aprobar</button>

					<button type="button" id="publicar"
						class="btn btn-default navbar-btn navbar-right">Publicar</button>

				</div>

			</div>
		</div>
		<div id="correcto" style="display: none;" class="jumbotron">
			<h1>Exito!</h1>
			<p>Se han publicado correctamente 2 articulos</p>
			<p>
				<a id="ok" class="btn btn-primary btn-lg" role="button">Aceptar</a>
			</p>
		</div>
	</div>
	<div id="editarModal" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title">Producto</h4>
				</div>
				<div class="modal-body">
					<form>
						<div class="row">
							<label class="control-label col-md-4" for="pro">Producto:</label>
							<div class="col-md-8">
								<input id="pro" value="TV Samsung 50" class="form-control"
									name="pro" />
							</div>

						</div>
						<div class="row">
							<br />
						</div>
						<div class="row">
							<label class="control-label col-md-4" for="des">Descipción:</label>
							<div class="col-md-8">
								<textarea rows="3" id="des" class="form-control" name="des">Hermosa TV Samsung de 50 pulgadas en perfecto estado</textarea>
							</div>
						</div>
						<div class="row">
							<br />
						</div>
						<div class="row">
							<label class="control-label col-md-4" for="pre">Precio:</label>
							<div class="col-md-8">
								<input id="pre" value="$10,000.00" class="form-control"
									name="pre" />
							</div>
						</div>
						<div class="row">
							<br />
						</div>
						<div class="row">
							<div class="col-md-6">
							<h4>Seleccione Tiendas</h4>
								<div>
									<button type="button" data-chk="0" class="chkbox btn btn-primary btn-md">
  <span class="glyphicon glyphicon glyphicon-check"></span></button>
									<img src="./images/mercadoLibre.jpg"/>
								</div>
								<div>
									<button type="button" data-chk="0" class="chkbox btn btn-primary btn-md">
  <span class="glyphicon glyphicon glyphicon-check"></span></button>
									<img src="./images/segundamano.png"/>
								</div>
								<div>
									<button type="button" data-chk="0" class="chkbox btn btn-primary btn-md">
  <span class="glyphicon glyphicon glyphicon-check"></span></button>
									<img src="./images/olx.jpg"/>
								</div>
								<div>
									<button type="button" data-chk="0" class="chkbox btn btn-primary btn-md">
  <span class="glyphicon glyphicon glyphicon-check"></span></button>
									<img src="./images/linio.jpg"/>
								</div>
							</div>
							<img class="img-responsive col-md-6" style="margin: 0 auto;"
								src="./images/lista.png" />
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
					
					<button type="button" class="btn btn-primary" data-dismiss="modal">Guardar</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<div id="publicarModal" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">

					<h4 class="modal-title">Publicando</h4>
				</div>
				<div class="modal-body">
					<div class="progress progress-striped active">

						<div class="progress-bar" role="progressbar" aria-valuenow="0"
							aria-valuemin="0" aria-valuemax="100" style="width: 20%;">

						</div>
					</div>
				</div>
				<div class="modal-footer"></div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->
	<div id="cargarModal" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">

					<h4 class="modal-title">Cargando</h4>
				</div>
				<div class="modal-body">
					<h4 id="detail-progress">Cargando fuentes externas...</h4>
					<div class="progress progress-striped active">

						<div class="progress-bar" role="progressbar" aria-valuenow="0"
							aria-valuemin="0" aria-valuemax="100" style="width: 20%;">

						</div>
					</div>
				</div>
				<div class="modal-footer"></div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

	<script
		src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="./js/jquery.dataTables.js"></script>
	
	<script>
		$(document).ready(
				function() {
					$("table").dataTable({
			            "language": {
			            	 search:"Buscar:",
			            	 lengthMenu:    "Mostrando _MENU_  registros",
			                 infoFiltered:   "(filtrados de _MAX_ registros en total)",
			                 infoEmpty:      "Mostrando 0 registros",
			            	 info:           "Mostrando _START_ a	 _END_ de _TOTAL_ registros",
			                 zeroRecords:    "No hay registros",
			            	 paginate: {
			                     first:      "Primero",
			                     previous:   "Último",
			                     next:       "Siguiente",
			                     last:       "Anterior"
			                 },
			            }
			        } );
					$("#aprobar").click(function(){
						$("tr").each(function(i,v){
							if(!$(v).is(":hidden")){
								$(v).find("input").attr("checked",true);
							}else {
								$(v).find("input").attr("checked",false);
									
							}
						});
					});
					$("#ok").click(function() {
						$("#correcto").fadeOut();
					});
					$("#editar").click(function() {
						$("#editarModal").modal();
					});
					$("#archivo").change(function() {
						$("#correcto").fadeOut(function() {
							var c = 0;
							$(".progress-bar2").css("width", "0%");
							$("#cargarModal").modal();

							aumentar2(c);
						});

					});

					var detailTxt = [ "Consultando fuentes externas...",
							"Aplicando reglas de negocio..." ]
					var aumentar = function(n) {
						if (n < 100) {
							n++;
							$(".progress-bar").css("width", n + "%");
							setTimeout(function() {
								aumentar(n);
							}, 10);
						} else {

							$("#publicarModal").modal("hide");
							$("#productos").fadeOut(function() {
								$("#correcto").fadeIn();

							});

						}

					}
					$(".chkApr").click(function(){
						if($(this).attr("data-chk")=="0"){
							$(this).removeClass("glyphicon-ok");
							$(this).addClass("glyphicon-remove");
							$(this).attr("data-chk","1")
						}else {
							$(this).removeClass("glyphicon-remove");
							$(this).addClass("glyphicon-ok");
							$(this).attr("data-chk","0")
						}
					});
					$(".chkbox").click(function(){
						if($(this).attr("data-chk")=="0"){
							$(this).removeClass("btn-primary");
							$(this).find("span").removeClass("glyphicon-check");
							$(this).find("span").addClass("glyphicon-unchecked");
							$(this).addClass("btn-default");
							$(this).attr("data-chk","1")
						}else {
							$(this).addClass("btn-primary");
							$(this).find("span").removeClass("glyphicon-unchecked");
							$(this).find("span").addClass("glyphicon-check");
							$(this).removeClass("btn-default");
							$(this).attr("data-chk","0")
						}
						
					});
					var aumentar2 = function(n) {
						if (n < 100) {
							n++;
							$(".progress-bar").css("width", n + "%");
							
							$("#detail-progress").html(
									detailTxt[((n < 50) ? 0 : 1)]);
							setTimeout(function() {
								aumentar2(n);
							}, 10);
						} else {

							$("#cargarModal").modal("hide");

							$("#productos").fadeIn();

						}

					}

					$("#publicar").click(function() {
						var c = 0;
						$(".progress-bar").css("width", "0%");
						$("#publicarModal").modal();

						aumentar(c);
					});
				});
	</script>
</body>
</html>